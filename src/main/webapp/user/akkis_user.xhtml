	<html xmlns="http://www.w3.org/1999/xhtml"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:p="http://primefaces.org/ui">
	<h:head>
		<script name="jquery/jquery.js" library="primefaces"></script>
		<title>Akkis - User</title>
	</h:head>

	<h:body>
		<ui:composition template="../templates/template_action.xhtml">
		<!-- <ui:param name="title" value="User Information" /> -->
			<ui:define name="content">
			
				<h:form id="userInfo">
					<p:growl id="messages"></p:growl>
					<p:panel id="basic" header="User Information" footer="User details" style="margin-bottom:20px">
					<p:panelGrid columns="2">
						<h:outputText value="Firstname:"></h:outputText>
						<h:inputText 
							value="#{userView.user.firstNames}"
							rendered="#{userView.modifyBasics}"
							required="true" 
							requiredMessage="Please enter firstname"
							validatorMessage="Firstname must be 2 to 30 characters" >
						<f:validateLength minimum="2" maximum="30"/>
						</h:inputText>
						<h:outputText 
							value="#{userView.user.firstNames}"
					 		rendered="#{not userView.modifyBasics}">
						</h:outputText>										
						
						<h:outputText value="Lastname:"></h:outputText>
						<h:inputText 
							value="#{userView.user.lastName}"
							rendered="#{userView.modifyBasics}"
							required="true" 
							requiredMessage="Please enter lastname"
							validatorMessage="Lastname must be 2 to 30 characters" >
						<f:validateLength minimum="2" maximum="30"/>
						</h:inputText>
						<h:outputText 
							value="#{userView.user.lastName}"
							rendered="#{not userView.modifyBasics}">
						</h:outputText>
						
						<h:outputText value="Username:"></h:outputText>
						<h:inputText 
							value="#{userView.user.username}"
							rendered="#{userView.modifyBasics}"
							required="true" 
							requiredMessage="Please enter username"
							validatorMessage="Username must be 4 to 15 characters" >
						<f:validateLength minimum="4" maximum="15"/>
						</h:inputText>
						<h:outputText 
							value="#{userView.user.username}"
							rendered="#{not userView.modifyBasics}">
						</h:outputText>
						
<!--  						<h:outputText value="Password:" rendered="#{userView.modifyBasics}" />
						<h:inputText 
							value="#{userView.user.password}"
							rendered="#{userView.modifyBasics}">
						</h:inputText> -->
						
	<!--					<h:outputText 
							value="#{userView.user.password}"
							rendered="#{not userView.modifyBasics}">
						</h:outputText>		 -->
						
 						<p:commandButton 
							value="Edit user" 
							action="#{userView.toModifyBasics}"
							rendered="#{not userView.modifyBasics}"
							update="userInfo">
							<f:setPropertyActionListener  
								target="#{userView.modifyBasics}"
								value="true"/>
						</p:commandButton>	
						<p:commandButton 
							value="Cancel"
							rendered="#{userView.modifyBasics}"
							update="userInfo">
							<f:setPropertyActionListener target="#{userView.modifyBasics}" value="false"/>
						</p:commandButton> 								
						<p:commandButton 
							value="Save" 
							action="#{userView.saveModifiedUser}"
							rendered="#{userView.modifyBasics}"
							update="userInfo">
							<f:setPropertyActionListener target="#{userView.modifyBasics}" value="false"/>
						</p:commandButton> 
					</p:panelGrid>
					
					</p:panel>
				</h:form>		
				
				<p:commandButton value="Back" action="#{userView.getBackPage}"/>					

<!-- 				<h:form id="userInfo">
				 	<p:growl id="messages"></p:growl>
				 	<p:panel id="basic" header="User Information" footer="User Information" style="margin-bottom:20px">
					<p:panelGrid columns="2">				
					
	 					<p:outputLabel value="Firstname:" />
						<p:inputText value="#{registerUser.user.firstNames}" label="fname" required="true" 
						requiredMessage="Please enter firstname"
						validatorMessage="Firstname must be 2 to 30 characters" >
							<f:validateLength minimum="2" maximum="30"/>
						</p:inputText>		
						
						<p:outputLabel value="Lastname:" />
						<p:inputText value="#{registerUser.user.lastName}" required="true" 
						requiredMessage="Please enter lastname"
						validatorMessage="Lastname must be 2 to 30 characters" >
							<f:validateLength minimum="2" maximum="30"/>
						</p:inputText>	
						
						<p:outputLabel value="Username:" />
						<p:inputText id="uname" value="#{registerUser.user.username}" required="true" 
						requiredMessage="Please enter username"
						validatorMessage="Username must be 4 to 15 characters" >
							<f:validateLength minimum="4" maximum="15"/>
						</p:inputText>	
						
						<p:outputLabel for="pwd1" value="Password:" />
						<p:password id="pwd1" value="#{registerUser.user.password}" feedback="false" match="pwd2" label="pwd1" required="true" 
						requiredMessage="Please enter password" validatorMessage="Passwords are not equal" />

						<p:outputLabel for="pwd2" value="Confirm password:" />
						<p:password id="pwd2" value="#{registerUser.user.password}" feedback="false" label="pwd2" required="true"
						requiredMessage="Please enter Confirm password" 
						validatorMessage="Password must be 6-20 characters including uppercase, lowercase and alphanumeric characters.">	
							<f:validateRegex pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20})" />
						</p:password>								
					</p:panelGrid>
					
					<h3>Select user role</h3> 
				        <p:selectOneRadio id="r" value="#{registerUser.user.role}"  layout="grid" columns="3" required="true" 
						requiredMessage="Please select user role" >
				            <f:selectItems value="#{registerUser.roles}" var="c" itemLabel="#{role}" itemValue="#{role}"/>
				        </p:selectOneRadio>
				        
				    <p:message for="r" /><br/>
					<p:commandButton value="Add user" action="#{registerUser.register}" validateClient="true"/>
					<p:commandButton value="Add user" action="#{registerUser.register}" update="messages" />
					</p:panel>
					<br/><br/>
					

				<br/>
			<p:commandButton value="Edit user" ></p:commandButton>
			</h:form> -->			
		</ui:define>
		</ui:composition>
	</h:body>
</html>